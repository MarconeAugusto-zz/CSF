%Exemplo de interferência intersimbólica

clear all;
close all;
clc;

%tau = [0 2 3 5]*1e-6;           %vetor de tempo - microsegundos
%pdb = [0 -10 0 -20];            %vetor de atenuações
Rb = 10e3;                      %taxa de transmissão
Tb = 1/Rb;                      %tempo de simbolo, nesse caso tempo de bit, pois a transmissão é binária
doppler = 3;                    %simula 3 hertz = modelo de uma pessoa caminhando
info = randi([0,1],1,1000000);     %Gera uma informação randômica de "1 e 0"
info_mod = pskmod(info,2);
%canal = rayleighchan(Tb,doppler,tau, pdb);
canal = rayleighchan(1/100000,30);
canal.StoreHistory = 1;
sinal_recebido = filter(canal,info_mod);
ganho = canal.PathGains;
histogram(real(ganho),100);     %distribuição de probabilidade da parte real
histogram(imag(ganho),100);     %distribuição de probabilidade da parte imaginária
histogram(abs(ganho),100);     %distribuição de probabilidade de Rayleigh

plot(ganho);
plot(canal);